---
title: Tailwindcss multitheme
description: Tạo theme switcher cho tailwindcss một cách đơn giản
logo: https://upload.wikimedia.org/wikipedia/commons/d/d5/Tailwind_CSS_Logo.svg
date: 2022-06-01
---

```css
/* Định nghĩa 2 theme: */
.theme-first {
  /*25 23 36 nghĩa là rgb(25,23,36) */
  --color-base: 25 23 36;
  --color-surface: 31 29 46;
  --color-text: 38 35 58;
}

.theme-second {
  --color-base: 250 244 237;
  --color-surface: 255 250 243;
  --color-text: 242 233 222;
}

/* Sử dụng color theme trong class: */
.my-box {
  width: 100px;
  height: 100px;
  background: rgb(var(--color-base));
}
```

Để sử dụng theme, đơn giản ta chỉ cần gắn tên class của theme đó vào thẻ body. Ví dụ:

```html
<body class="theme-first">
  <div class="my-box"></div>
</body>
```

Vì mình sử dụng tailwindcss nên cần setup thêm một bước nữa, trong file `tailwind.config.js`:

```js
// Cần hàm này để có thể sử dụng class opacity-[value]
function withOpacityValue(variable) {
  return ({ opacityValue }) => {
    if (opacityValue === undefined) {
      return `rgb(var(${variable}))`;
    }
    return `rgb(var(${variable}) / ${opacityValue})`;
  };
}

// Có bao nhiêu css varible trong theme thì ta định nghĩa bấy nhiêu đó:
let themeColors = {
  base: withOpacityValue("--color-base"),
  surface: withOpacityValue("--color-surface"),
  text: withOpacityValue("--color-text"),
  //...
};

module.exports = {
  content: [
    "./pages/**/*.{js,ts,jsx,tsx}",
    "./components/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: themeColors,
    },
  },
  plugins: [],
};
```

Sử dụng:

```html
<button className="bg-base text-text p-3">    Hello World</button>
```

Cuối cùng, sử dụng thư viện [next-themes](https://github.com/pacocoursey/next-themes). Giúp việc chuyển đổi theme dễ dàng hơn, chỉ qua vài dòng code:

```jsx
import { useTheme } from "next-themes";

const ThemeChanger = () => {
  const { theme, setTheme } = useTheme();

  return (
    <div>
      The current theme is: {theme}
      <button onClick={() => setTheme("theme-first")}>First Theme</button>
      <button onClick={() => setTheme("theme-second")}>Second Theme</button>
    </div>
  );
};
```
